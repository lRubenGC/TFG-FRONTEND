<br>
<div id="user-profile-page">
    <div id="user-profile-body">
        <!-- Landing section -->
        <section id="user-profile-land-section" [ngStyle]="{'background-image': user?.bg_img ? 'linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), url(' + user?.bg_img + ')' : 'linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), url(../../../../assets/images/login_page/login_bg.webp)'}">

            <!-- Profile data -->
            <div class="profile-data-name">
                <div class="profile-img-container">
                    <img class="user-profile-pic circular-image" [src]="user?.img ? user?.img : 'assets/images/user-profile/no-user-profile.webp'" alt="">
                </div>
                <div class="profile-data-name-container">
                    <h3>{{ user?.username }}</h3>
                    <button *ngIf="userVisitor" (click)="goToConfig()">{{ 'USER_EDIT_PROFILE' | translate }}</button>
                </div>
            </div>

            <!-- Cars data -->
            <div class="profile-data-cars">
                <div class="data-cars-item">
                    <p class="data-item-number">{{ basicCarsOwned.length }}</p>
                    <p>{{ 'USER_PROFILE_BASIC_MENU' | translate }}</p>
                </div>

                <div class="vertical-divider"></div>
                
                <div class="data-cars-item">
                    <p class="data-item-number">{{ premiumCarsOwned.length }}</p>
                    <p>{{ 'USER_PROFILE_PREMIUM_MENU' | translate }}</p>
                </div>
                
                <div class="vertical-divider"></div>

                <div class="data-cars-item">
                    <p class="data-item-number">{{ customCarsOwned.length }}</p>
                    <p>{{ 'USER_PROFILE_CUSTOM_MENU' | translate }}</p>
                </div>
            </div>

        </section>

        <!-- Car menu -->
        <section class="car-menu-list-container">
            <div class="car-menu-list">
                <div class="car-menu-list__group">
                    <div
                        class="car-menu-item"
                        [ngClass]="carsType == 'basic' ? 'car-menu-item-selected' : ''"
                        (click)="changeCarType('basic')"
                        >{{ 'USER_PROFILE_BASIC_MENU' | translate }}</div>
                    <div
                        class="car-menu-item"
                        [ngClass]="carsType == 'premium' ? 'car-menu-item-selected' : ''"
                        (click)="changeCarType('premium')"
                        >{{ 'USER_PROFILE_PREMIUM_MENU' | translate }}</div>
                    <div
                        class="car-menu-item"
                        [ngClass]="carsType == 'custom' ? 'car-menu-item-selected' : ''"
                        (click)="changeCarType('custom')"
                        >{{ 'USER_PROFILE_CUSTOM_MENU' | translate }}</div>
                </div>

                <div class="vertical-divider vertical-divider-menu"></div>

                <div class="car-menu-list__group">
                    <div
                        class="car-menu-item"
                        [ngClass]="collectedType == 'owned' ? 'car-menu-item-selected' : ''"
                        (click)="changeCarCollected('owned')"
                        >{{ 'USER_PROFILE_OWNED_MENU' | translate }}</div>
                    <div
                        *ngIf="carsType !== 'custom'"
                        class="car-menu-item"
                        [ngClass]="collectedType == 'wished' ? 'car-menu-item-selected' : ''"
                        (click)="changeCarCollected('wished')"
                        >{{ 'USER_PROFILE_WISHED_MENU' | translate }}</div> 
                </div>
            </div>
        </section>

        <!-- Filter section for Basic Cars-->
        <section *ngIf="carsType === 'basic'" id="user-filter-basic-section">

            <div class="basic-filter-item">
                <h3>{{ 'BASIC_CARS_YEAR' | translate }}</h3>
                <div class="car-select">
                    <select [(ngModel)]="selectedYear" (change)="filterYear(selectedYear)">
                        <option value="all">{{ 'FILTER_ALL' | translate }}</option>
                        <option *ngFor="let year of availableYears" [value]="year">{{ year }}</option>
                    </select>

                </div>
            </div>

            <div class="basic-filter-item">
                <h3>{{ 'BASIC_CARS_SERIE' | translate }}</h3>
                <div class="car-select">
                    <select [(ngModel)]="selectedSerie" (change)="filterSerie(selectedSerie)" [disabled]="selectedYear === 'all'">
                        <option value="all">{{ 'FILTER_ALL' | translate }}</option>
                        <option value="Treasure Hunt">Treasure Hunt</option>
                        <option value="Super Treasure Hunt">Super Treasure Hunt</option>
                        <option value="Red Edition">Red Edition</option>
                        <option value="Walmart Exclusive">Zamac</option>
                        <option *ngFor="let serie of availableSeries" [value]="serie">{{ serie }}</option>
                    </select>
                </div>
            </div>

        </section>

        <!-- Filter section for Premium Cars-->
        <section *ngIf="carsType === 'premium'" id="user-filter-premium-section">

            <div class="basic-filter-item">
                <h3>{{ 'PREMIUM_CARS_MAIN_SERIE' | translate }}</h3>
                <div class="car-select">
                    <select [(ngModel)]="selectedMainSerie" (change)="filterPremiumSerie(selectedMainSerie)">
                        <option value="all">All</option>
                        <option *ngFor="let serie of availableMainSeries" [value]="serie">{{ serie }}</option>
                    </select>
                </div>
            </div>

            <div class="basic-filter-item">
                <h3>{{ 'PREMIUM_CARS_SECONDARY_SERIE' | translate }}</h3>
                <div class="car-select">
                    <select [(ngModel)]="selectedSecondarySerie" (change)="filterPremiumSecundarySerie(selectedSecondarySerie)"
                    [disabled]="selectedMainSerie === 'all'"
                    >
                        <option value="all">All</option>
                        <option *ngFor="let serie of availableSecondarySeries" [value]="serie">{{ serie }}</option>
                    </select>
                </div>
            </div>

        </section>

        <!-- Car list -->
        <section id="user-cars-list">

            <!-- Basic Cars Owned-->
            <div *ngIf="carsType === 'basic' && collectedType === 'owned'" class="basic-cars-list">
                <div *ngFor="let car of basicCarsOwnedShowed">
                    <app-basic-card (errorEvent)="enableErrorMsg($event)" [car]="car" (deleteCar)="onDeleteCar($event, 'basic owned')"></app-basic-card>
                </div>
            </div>

            <!-- Basic Cars Wished-->
            <div *ngIf="carsType === 'basic' && collectedType === 'wished'" class="basic-cars-list">
                <div *ngFor="let car of basicCarsWishedShowed">
                    <app-basic-card (errorEvent)="enableErrorMsg($event)" [car]="car" (deleteCar)="onDeleteCar($event, 'basic wished')"></app-basic-card>
                </div>
            </div>

            <!-- Premium Cars Owned-->
            <div *ngIf="carsType === 'premium' && collectedType === 'owned'" class="premium-cars-list">
                <div *ngFor="let car of premiumCarsOwnedShowed">
                    <app-premium-card (errorEvent)="enableErrorMsg($event)" [car]="car" (deleteCar)="onDeleteCar($event, 'premium owned')"></app-premium-card>
                </div>
            </div>

            <!-- Premium Cars Wished-->
            <div *ngIf="carsType === 'premium' && collectedType === 'wished'" class="premium-cars-list">
                <div *ngFor="let car of premiumCarsWishedShowed">
                    <app-premium-card (errorEvent)="enableErrorMsg($event)" [car]="car" (deleteCar)="onDeleteCar($event, 'premium wished')"></app-premium-card>
                </div>
            </div>

            <!-- Custom Cars Owned-->
            <div *ngIf="carsType === 'custom'" class="custom-cars-list">
                <div *ngFor="let car of customCarsOwned">
                    <app-custom-card (errorEvent)="enableErrorMsg($event)" [userProfile]="true" [car]="car"></app-custom-card>
                </div>
            </div>

        </section>


    </div>

    <!-- Scroll to top Button -->
    <app-scroll-to-top></app-scroll-to-top>

</div>
